"use strict";(()=>{const J=new Map;let T=null;const a=(e,...p)=>{if(!T)throw new Error("Steam`` can only be used in a reactive constant, e.g. in Steam.attach");let n=J.get(e);n||(n=H(e),J.set(e,n));const v={};const g=(e,n,t)=>{let o=[];const r=e=>{if(Array.isArray(e))for(const n of e)r(n);else!e&&"number"!=typeof e||o.push(e)};var a;return r(p[e]),0===o.length&&o.push(""),3!==n.nodeType||1!==o.length||o[0]instanceof Node?(a=o.map(e=>e=(e="string"==typeof e?document.createTextNode(e):e)instanceof Node?e:document.createTextNode(JSON.stringify(e))),n.replaceWith(...a),v[e]={t:1,o:t,i:a},a):("string"==typeof o[0]?n.nodeValue=o[0]:n.nodeValue=JSON.stringify(o[0]),v[e]={t:1,i:[n]},null)},w=(e,n,t)=>{v[n]={t:2,node:t,name:e},y(e,p[n],t)},h=(e,n)=>{"children"===e?n.innerHTML="":e.startsWith("on")?n[e]=null:n.removeAttribute(e)},y=(e,n,t)=>{if("children"===e){if(0<t.childNodes.length&&0<n.length)throw new Error("children prop should not be present if the node already contains data");t.append(...n)}else if("dangerously-set-inner-html"===e){if(0<t.childNodes.length)throw new Error("dangerouslySetInnerHtml prop should not be present if the node already contains data");t.innerHTML=n.__html}else if("value"===e)t.value=n;else if(e.startsWith("on")){if(t[e])throw new Error("Duplicate event handler "+e);t[e]=n}else{if(t.hasAttribute(e))throw new Error("Duplicate attribute "+e);if("class"===e&&Array.isArray(n))t.classList.add(...n);else if("class"===e&&"object"==typeof n&&null!==n)for(var[o,r]of Object.entries(n))t.classList.toggle(o,r);else"style"===e&&"object"==typeof n&&null!==n?Object.assign(t.style,n):"boolean"==typeof n?n&&t.setAttribute(e,e):t.setAttribute(e,n)}},t=(e,n,t)=>{if(e in t&&("children"!==e||0!==n.length&&0!==t.children.length))throw new Error(`Key ${e} overrides an existing property of the same name`);t[e]=n};let o=T.l.get(e);if(o||(o={u:0,m:[]},T.l.set(e,o)),o.u<o.m.length){const{i:K,p:A,v}=o.m[o.u++],F={},C=e=>{let n=F[e];return n||(n={...v[e].h.g},v[e].h.g=n,F[e]=n),n};A.forEach((e,n)=>{if(e!==p[n]){var t=v[n];switch(t.t){case 0:C(n);break;case 1:var{o,i:r}=t;for(const u of r.slice(1))u.remove();var a,f=g(n,r[0],o);null!==o&&null!==f&&(a=(o=v[o].h.g.children).indexOf(r[0]),r=o.indexOf(r[r.length-1])+1,o.splice(a,r-a,f));break;case 2:h(t.name,t.node),w(t.name,n,t.node);break;case 3:for(const m of t.I)h(m,t.node);for(var[s,i]of Object.entries(p[n]))y(z(s),i,t.node);t.I=Object.keys(p[n]).map(z);break;case 4:C(t.O)[t.name]=p[n];break;case 5:var l,d,c=C(t.O);for(const b of t.I)delete c[b];for([l,d]of Object.entries(p[n]))c[l]=d;t.I=Object.keys(p[n])}}}),A.splice(0,A.length,...p);for(const D of Object.keys(F)){var r=v[D].h;p[D]!==r.j&&(r.j=p[D],r.l=new Map,r.N=[],r.S=0,r.$=!0),V(r)}return K}var e=n.K.cloneNode(!0),a=[...e.querySelectorAll("[data-steam-node-id]")];a.reverse();for(const M of a){var{A:f,o:P,O:s,attributes:i}=n.F[M.dataset.steamNodeId];if(delete M.dataset.steamNodeId,null!==s){d=l=O=I=x=b=j=m=void 0;var l,d,c=s,s=M,u=i,m={children:[...s.childNodes]};for(const k of s.attributes)m[U(k.name)]=k.value;for({name:l,C:d}of u){var b=p[d];if(""===l){for(var[x,I]of Object.entries(b))t(x,I,m);v[d]={t:5,O:c,I:Object.keys(b)}}else{var O=U(l);t(O,b,m),v[d]={t:4,O:c,name:O}}}Object.freeze(m);var u=p[c],u=L(u,m),j=V(u);0===j.length&&j.push(document.createComment("Steam whiteout")),v[c]={t:0,h:u},s.replaceWith(...j)}else{null!==f&&g(f,M,P);for(var{name:E,C:N}of i)if(""===E){var S,$,B=p[N];for([S,$]of Object.entries(B))y(z(S),$,M);v[N]={t:3,node:M,I:Object.keys(B).map(z)}}else w(E,N,M)}}const K=[...e.childNodes];return o.m[o.u++]={i:K,p:p,v:v},K},U=(window.Steam=a,e=>e.replace(/-[a-z]/g,e=>e[1].toUpperCase())),z=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),H=e=>{let t="";e.forEach((e,n)=>{if(0<n&&(t.endsWith("<")?t+=`steam-node data-steam-substitution-index="${n-1}"`:t.endsWith("</")?t+="steam-node":t+=`￾${n-1}￾`),-1!==e.indexOf("￾"))throw new SyntaxError("A U+FFFE character is invalid in a template literal");t+=e.replace(/<\/>/g,"</steam-node ￾>")});var e=document.createElement("template"),n=(e.innerHTML=t,document.createTreeWalker(e.content,5)),o=[];const r=[];for(;n.nextNode();){const c=n.currentNode;if(1===c.nodeType){let e=null;var a=()=>(null===e&&(e=r.length,r.push({A:null,o:null,O:null,attributes:[]}),c.dataset.steamNodeId=e),r[e]);"STEAM-NODE"===c.tagName&&(a().O=+c.dataset.steamSubstitutionIndex,delete c.dataset.steamSubstitutionIndex);for(const u of[...c.attributes]){u.value=u.value.replace(/<\/steam-node \ufffe>/g,"</>");var f=u.name.match(/^\ufffe(\d+)\ufffe$/),f=(f&&(a().attributes.push({name:"",C:+f[1]}),c.removeAttributeNode(u)),u.value.match(/^\ufffe(\d+)\ufffe$/));f&&(a().attributes.push({name:u.name,C:+f[1]}),c.removeAttributeNode(u))}}else if(3===c.nodeType&&(c.nodeValue=c.nodeValue.trim(),""===c.nodeValue&&o.push(()=>c.remove()),-1!==c.nodeValue.indexOf("￾"))){var s=c.nodeValue,i=/\ufffe(\d+)\ufffe/g;const m=new DocumentFragment;let n=0;for(;d=i.exec(s);){n<d.index&&m.append(s.slice(n,d.index));let e=null;"STEAM-NODE"===c.parentNode.tagName&&(e=+c.parentNode.dataset.steamNodeId);var l=r.length,d=(r.push({A:+d[1],o:e,O:null,attributes:[]}),document.createElement("slot"));d.dataset.steamNodeId=l,m.append(d),n=i.lastIndex}n<s.length&&m.append(s.slice(n)),o.push(()=>c.replaceWith(m))}}for(const b of o)b();return{K:e.content,F:r}},f=(a.css=(e,...r)=>t=>{let o="";return e.forEach((e,n)=>{if(0<n){let e=r[n-1];for(;"function"==typeof e;)e=e(t);!e&&"number"!=typeof e||(o+=e)}o+=e}),o},document.createElement("style")),s=(document.head.append(f),new Map),L=(a.styled=new Proxy(r=>(...e)=>{const o=a.css(...e);return e=>{var n=o(e);let t=s.get(n);return t||(t="steam-"+s.size,f.sheet.insertRule(`.${t}{${n}}`),s.set(n,t)),(e={...e}).class?Array.isArray(e.class)?e.class=[t,...e.class]:"object"==typeof e.class?e.class={[t]:!0,...e.class}:e.class+=" "+t:e.class=t,Object.freeze(e),r(e)}},{get(e,n){const t=[`<${n} `,`></${n}>`];return e(e=>a(t,e))}}),(e,n)=>({j:e,g:n,l:new Map,N:[],S:0,$:!0,i:null})),V=n=>{var e,t,o=T,r=(T=n).j(n.g);for([e,t]of n.l)t.m.splice(t.u,t.m.length),t.u=0;if(n.S=0,n.i){var a=n.i;var f=r;let e=0;for(;e<a.length&&e<f.length;e++)a[e]!==f[e]&&a[e].replaceWith(f[e]);a.slice(e).forEach(e=>e.remove()),e<f.length&&((new DocumentFragment).append(...f.slice(e)),a[e-1].parentNode.insertBefore(f,a[e-1].nextSibling))}return n.$=!1,n.i=r,T=o,r};a.useState=e=>{const n=T;let t=n.S++;n.$&&n.N.push(e);const o=n.N[t];return[o,e=>{o!==e&&(n.N[t]=e,V(n))}]},a.attach=(e,n)=>{n=L(n,{});e.append(...V(n))}})();