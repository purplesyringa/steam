"use strict";(()=>{const J=new Map;let T=null;const a=(e,...v)=>{if(!T)throw new Error("Steam`` can only be used in a reactive constant, e.g. in Steam.attach");let n=J.get(e);n||(n=L(e),J.set(e,n));const p={};const g=(e,n,t)=>{let o=[];const r=e=>{if(Array.isArray(e))for(const n of e)r(n);else!e&&"number"!=typeof e||o.push(e)};var a;return r(v[e]),0===o.length&&o.push(""),3!==n.nodeType||1!==o.length||o[0]instanceof Node?(a=o.map(e=>e=(e="string"==typeof e?document.createTextNode(e):e)instanceof Node?e:document.createTextNode(JSON.stringify(e))),n.replaceWith(...a),p[e]={t:1,o:t,i:a},a):("string"==typeof o[0]?n.nodeValue=o[0]:n.nodeValue=JSON.stringify(o[0]),p[e]={t:1,i:[n]},null)},w=(e,n,t)=>{p[n]={t:2,node:t,name:e},h(e,v[n],t)},x=(e,n)=>{"children"===e?n.innerHTML="":e.startsWith("on")?n[e]=null:n.removeAttribute(e)},h=(e,n,t)=>{if("children"===e){if(0<t.childNodes.length&&0<n.length)throw new Error("children prop should not be present if the node already contains data");t.append(...n)}else if("value"===e)t.value=n;else if(e.startsWith("on")){if(t[e])throw new Error("Duplicate event handler "+e);t[e]=n}else{if(t.hasAttribute(e))throw new Error("Duplicate attribute "+e);if("class"===e&&Array.isArray(n))t.classList.add(...n);else if("class"===e&&"object"==typeof n&&null!==n)for(var[o,r]of Object.entries(n))t.classList.toggle(o,r);else"style"===e&&"object"==typeof n&&null!==n?Object.assign(t.style,n):"boolean"==typeof n?n&&t.setAttribute(e,e):t.setAttribute(e,n)}},t=(e,n,t)=>{if(e in t&&("children"!==e||0!==n.length&&0!==t.children.length))throw new Error(`Key ${e} overrides an existing property of the same name`);t[e]=n};let o=T.l.get(e);if(o||(o={u:0,m:[]},T.l.set(e,o)),o.u<o.m.length){const{i:S,v:A,p}=o.m[o.u++],F={},C=e=>{let n=F[e];return n||(n={...p[e].h.g},p[e].h.g=n,F[e]=n),n};A.forEach((e,n)=>{if(e!==v[n]){var t=p[n];switch(t.t){case 0:C(n);break;case 1:var{o,i:r}=t;for(const u of r.slice(1))u.remove();var a,f=g(n,r[0],o);null!==o&&null!==f&&(a=(o=p[o].h.g.children).indexOf(r[0]),r=o.indexOf(r[r.length-1])+1,o.splice(a,r-a,f));break;case 2:x(t.name,t.node),w(t.name,n,t.node);break;case 3:for(const m of t.I)x(m,t.node);for(var[s,i]of Object.entries(v[n]))h(z(s),i,t.node);t.I=Object.keys(v[n]).map(z);break;case 4:C(t.O)[t.name]=v[n];break;case 5:var c,l,d=C(t.O);for(const b of t.I)delete d[b];for([c,l]of Object.entries(v[n]))d[c]=l;t.I=Object.keys(v[n])}}}),A.splice(0,A.length,...v);for(const D of Object.keys(F)){var r=p[D].h;v[D]!==r.j&&(r.j=v[D],r.l=new Map,r.N=[],r.$=0,r.K=!0),Z(r)}return S}var e=n.S.cloneNode(!0),a=[...e.querySelectorAll("[data-steam-node-id]")];a.reverse();for(const M of a){var{A:f,o:P,O:s,attributes:i}=n.F[M.dataset.steamNodeId];if(delete M.dataset.steamNodeId,null!==s){l=c=O=I=y=b=j=m=void 0;var c,l,d=s,s=M,u=i,m={children:[...s.childNodes]};for(const k of s.attributes)m[U(k.name)]=k.value;for({name:c,C:l}of u){var b=v[l];if(""===c){for(var[y,I]of Object.entries(b))t(y,I,m);p[l]={t:5,O:d,I:Object.keys(b)}}else{var O=U(c);t(O,b,m),p[l]={t:4,O:d,name:O}}}Object.freeze(m);var u=v[d],u=V(u,m),j=Z(u);0===j.length&&j.push(document.createComment("Steam whiteout")),p[d]={t:0,h:u},s.replaceWith(...j)}else{null!==f&&g(f,M,P);for(var{name:E,C:N}of i)if(""===E){var $,K,B=v[N];for([$,K]of Object.entries(B))h(z($),K,M);p[N]={t:3,node:M,I:Object.keys(B).map(z)}}else w(E,N,M)}}const S=[...e.childNodes];return o.m[o.u++]={i:S,v:v,p:p},S},U=(window.Steam=a,e=>e.replace(/-[a-z]/g,e=>e[1].toUpperCase())),z=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),L=e=>{let t="";e.forEach((e,n)=>{if(0<n&&(t.endsWith("<")?t+=`steam-node data-steam-substitution-index="${n-1}"`:t.endsWith("</")?t+="steam-node":t+=`￾${n-1}￾`),-1!==e.indexOf("￾"))throw new SyntaxError("A U+FFFE character is invalid in a template literal");t+=e.replace(/<\/>/g,"</steam-node ￾>")});var e=document.createElement("template"),n=(e.innerHTML=t,document.createTreeWalker(e.content,5)),o=[];const r=[];for(;n.nextNode();){const d=n.currentNode;if(1===d.nodeType){let e=null;var a=()=>(null===e&&(e=r.length,r.push({A:null,o:null,O:null,attributes:[]}),d.dataset.steamNodeId=e),r[e]);"STEAM-NODE"===d.tagName&&(a().O=+d.dataset.steamSubstitutionIndex,delete d.dataset.steamSubstitutionIndex);for(const u of[...d.attributes]){u.value=u.value.replace(/<\/steam-node \ufffe>/g,"</>");var f=u.name.match(/^\ufffe(\d+)\ufffe$/),f=(f&&(a().attributes.push({name:"",C:+f[1]}),d.removeAttributeNode(u)),u.value.match(/^\ufffe(\d+)\ufffe$/));f&&(a().attributes.push({name:u.name,C:+f[1]}),d.removeAttributeNode(u))}}else if(3===d.nodeType&&(d.nodeValue=d.nodeValue.trim(),""===d.nodeValue&&o.push(()=>d.remove()),-1!==d.nodeValue.indexOf("￾"))){var s=d.nodeValue,i=/\ufffe(\d+)\ufffe/g;const m=new DocumentFragment;let n=0;for(;l=i.exec(s);){n<l.index&&m.append(s.slice(n,l.index));let e=null;"STEAM-NODE"===d.parentNode.tagName&&(e=+d.parentNode.dataset.steamNodeId);var c=r.length,l=(r.push({A:+l[1],o:e,O:null,attributes:[]}),document.createElement("slot"));l.dataset.steamNodeId=c,m.append(l),n=i.lastIndex}n<s.length&&m.append(s.slice(n)),o.push(()=>d.replaceWith(m))}}for(const b of o)b();return{S:e.content,F:r}},f=(a.css=(e,...r)=>t=>{let o="";return e.forEach((e,n)=>{if(0<n){let e=r[n-1];for(;"function"==typeof e;)e=e(t);!e&&"number"!=typeof e||(o+=e)}o+=e}),o},document.createElement("style")),s=(document.head.append(f),new Map),V=(a.styled=new Proxy(r=>(...e)=>{const o=a.css(...e);return e=>{var n=o(e);let t=s.get(n);return t||(t="steam-"+s.size,f.sheet.insertRule(`.${t}{${n}}`),s.set(n,t)),(e={...e}).class?Array.isArray(e.class)?e.class=[t,...e.class]:"object"==typeof e.class?e.class={[t]:!0,...e.class}:e.class+=" "+t:e.class=t,Object.freeze(e),r(e)}},{get(e,n){const t=[`<${n} `,`></${n}>`];return e(e=>a(t,e))}}),(e,n)=>({j:e,g:n,l:new Map,N:[],$:0,K:!0,i:null})),Z=n=>{var e,t,o=T,r=(T=n).j(n.g);for([e,t]of n.l)t.m.splice(t.u,t.m.length),t.u=0;if(n.$=0,n.i){var a=n.i;var f=r;let e=0;for(;e<a.length&&e<f.length;e++)a[e]!==f[e]&&a[e].replaceWith(f[e]);a.slice(e).forEach(e=>e.remove()),e<f.length&&((new DocumentFragment).append(...f.slice(e)),a[e-1].parentNode.insertBefore(f,a[e-1].nextSibling))}return n.K=!1,n.i=r,T=o,r};a.useState=e=>{const n=T;let t=n.$++;n.K&&n.N.push(e);const o=n.N[t];return[o,e=>{o!==e&&(n.N[t]=e,Z(n))}]},a.attach=(e,n)=>{n=V(n,{});e.append(...Z(n))}})();